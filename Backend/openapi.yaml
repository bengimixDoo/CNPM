openapi: 3.0.2
info:
  title: ''
  version: ''
paths:
  /api/users/users/:
    get:
      operationId: listUsers
      description: ''
      parameters: []
      responses:
        '200':
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/User'
          description: ''
      tags:
      - api
    post:
      operationId: createUser
      description: ''
      parameters: []
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CreateUser'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/CreateUser'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/CreateUser'
      responses:
        '201':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/CreateUser'
          description: ''
      tags:
      - api
  /api/users/users/me/:
    get:
      operationId: getMeUser
      description: ''
      parameters: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/User'
          description: ''
      tags:
      - api
  /api/users/users/{id}/:
    get:
      operationId: retrieveUser
      description: ''
      parameters:
      - name: id
        in: path
        required: true
        description: A unique integer value identifying this user.
        schema:
          type: string
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/User'
          description: ''
      tags:
      - api
    put:
      operationId: updateUser
      description: ''
      parameters:
      - name: id
        in: path
        required: true
        description: A unique integer value identifying this user.
        schema:
          type: string
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/User'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/User'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/User'
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/User'
          description: ''
      tags:
      - api
    patch:
      operationId: partialUpdateUser
      description: ''
      parameters:
      - name: id
        in: path
        required: true
        description: A unique integer value identifying this user.
        schema:
          type: string
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/User'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/User'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/User'
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/User'
          description: ''
      tags:
      - api
    delete:
      operationId: destroyUser
      description: ''
      parameters:
      - name: id
        in: path
        required: true
        description: A unique integer value identifying this user.
        schema:
          type: string
      responses:
        '204':
          description: ''
      tags:
      - api
  /api/residents/:
    get:
      operationId: listCuDans
      description: ''
      parameters: []
      responses:
        '200':
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/CuDan'
          description: ''
      tags:
      - api
    post:
      operationId: createCuDan
      description: ''
      parameters: []
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CuDan'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/CuDan'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/CuDan'
      responses:
        '201':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/CuDan'
          description: ''
      tags:
      - api
  /api/residents/{ma_cu_dan}/:
    get:
      operationId: retrieveCuDan
      description: ''
      parameters:
      - name: ma_cu_dan
        in: path
        required: true
        description: A unique integer value identifying this cu dan.
        schema:
          type: string
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/CuDan'
          description: ''
      tags:
      - api
    put:
      operationId: updateCuDan
      description: ''
      parameters:
      - name: ma_cu_dan
        in: path
        required: true
        description: A unique integer value identifying this cu dan.
        schema:
          type: string
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CuDan'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/CuDan'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/CuDan'
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/CuDan'
          description: ''
      tags:
      - api
    patch:
      operationId: partialUpdateCuDan
      description: ''
      parameters:
      - name: ma_cu_dan
        in: path
        required: true
        description: A unique integer value identifying this cu dan.
        schema:
          type: string
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CuDan'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/CuDan'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/CuDan'
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/CuDan'
          description: ''
      tags:
      - api
    delete:
      operationId: destroyCuDan
      description: ''
      parameters:
      - name: ma_cu_dan
        in: path
        required: true
        description: A unique integer value identifying this cu dan.
        schema:
          type: string
      responses:
        '204':
          description: ''
      tags:
      - api
  /api/residents/{ma_cu_dan}/history/:
    get:
      operationId: historyCuDan
      description: ''
      parameters:
      - name: ma_cu_dan
        in: path
        required: true
        description: A unique integer value identifying this cu dan.
        schema:
          type: string
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/CuDan'
          description: ''
      tags:
      - api
  /api/apartments/:
    get:
      operationId: listCanHos
      description: ''
      parameters: []
      responses:
        '200':
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/CanHo'
          description: ''
      tags:
      - api
    post:
      operationId: createCanHo
      description: ''
      parameters: []
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CanHo'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/CanHo'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/CanHo'
      responses:
        '201':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/CanHo'
          description: ''
      tags:
      - api
  /api/apartments/thongke/:
    get:
      operationId: thongKeCanHo
      description: ''
      parameters: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/CanHo'
          description: ''
      tags:
      - api
  /api/apartments/{ma_can_ho}/:
    get:
      operationId: retrieveCanHo
      description: ''
      parameters:
      - name: ma_can_ho
        in: path
        required: true
        description: A unique integer value identifying this can ho.
        schema:
          type: string
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/CanHo'
          description: ''
      tags:
      - api
    put:
      operationId: updateCanHo
      description: ''
      parameters:
      - name: ma_can_ho
        in: path
        required: true
        description: A unique integer value identifying this can ho.
        schema:
          type: string
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CanHo'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/CanHo'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/CanHo'
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/CanHo'
          description: ''
      tags:
      - api
    patch:
      operationId: partialUpdateCanHo
      description: ''
      parameters:
      - name: ma_can_ho
        in: path
        required: true
        description: A unique integer value identifying this can ho.
        schema:
          type: string
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CanHo'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/CanHo'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/CanHo'
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/CanHo'
          description: ''
      tags:
      - api
    delete:
      operationId: destroyCanHo
      description: ''
      parameters:
      - name: ma_can_ho
        in: path
        required: true
        description: A unique integer value identifying this can ho.
        schema:
          type: string
      responses:
        '204':
          description: ''
      tags:
      - api
  /api/apartments/{ma_can_ho}/history/:
    get:
      operationId: historyCanHo
      description: ''
      parameters:
      - name: ma_can_ho
        in: path
        required: true
        description: A unique integer value identifying this can ho.
        schema:
          type: string
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/CanHo'
          description: ''
      tags:
      - api
  /api/apartments/{ma_can_ho}/detail/:
    get:
      operationId: thongKeChiTietCanHoCanHo
      description: ''
      parameters:
      - name: ma_can_ho
        in: path
        required: true
        description: A unique integer value identifying this can ho.
        schema:
          type: string
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/CanHo'
          description: ''
      tags:
      - api
  /api/history/:
    get:
      operationId: listBienDongDanCus
      description: ''
      parameters: []
      responses:
        '200':
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/BienDongDanCu'
          description: ''
      tags:
      - api
    post:
      operationId: createBienDongDanCu
      description: ''
      parameters: []
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/BienDongDanCu'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/BienDongDanCu'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/BienDongDanCu'
      responses:
        '201':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/BienDongDanCu'
          description: ''
      tags:
      - api
  /api/history/{ma_bien_dong}/:
    get:
      operationId: retrieveBienDongDanCu
      description: ''
      parameters:
      - name: ma_bien_dong
        in: path
        required: true
        description: A unique integer value identifying this bien dong dan cu.
        schema:
          type: string
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/BienDongDanCu'
          description: ''
      tags:
      - api
    put:
      operationId: updateBienDongDanCu
      description: ''
      parameters:
      - name: ma_bien_dong
        in: path
        required: true
        description: A unique integer value identifying this bien dong dan cu.
        schema:
          type: string
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/BienDongDanCu'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/BienDongDanCu'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/BienDongDanCu'
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/BienDongDanCu'
          description: ''
      tags:
      - api
    patch:
      operationId: partialUpdateBienDongDanCu
      description: ''
      parameters:
      - name: ma_bien_dong
        in: path
        required: true
        description: A unique integer value identifying this bien dong dan cu.
        schema:
          type: string
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/BienDongDanCu'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/BienDongDanCu'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/BienDongDanCu'
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/BienDongDanCu'
          description: ''
      tags:
      - api
    delete:
      operationId: destroyBienDongDanCu
      description: ''
      parameters:
      - name: ma_bien_dong
        in: path
        required: true
        description: A unique integer value identifying this bien dong dan cu.
        schema:
          type: string
      responses:
        '204':
          description: ''
      tags:
      - api
  /api/users/auth/token/:
    post:
      operationId: createMyTokenObtainPair
      description: ''
      parameters: []
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/MyTokenObtainPair'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/MyTokenObtainPair'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/MyTokenObtainPair'
      responses:
        '201':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/MyTokenObtainPair'
          description: ''
      tags:
      - api
  /api/users/auth/token/refresh/:
    post:
      operationId: createTokenRefresh
      description: 'Takes a refresh type JSON web token and returns an access type
        JSON web

        token if the refresh token is valid.'
      parameters: []
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/TokenRefresh'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/TokenRefresh'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/TokenRefresh'
      responses:
        '201':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/TokenRefresh'
          description: ''
      tags:
      - api
  /api/users/auth/logout/:
    post:
      operationId: createTokenBlacklist
      description: 'Takes a token and blacklists it. Must be used with the

        `rest_framework_simplejwt.token_blacklist` app installed.'
      parameters: []
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/TokenBlacklist'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/TokenBlacklist'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/TokenBlacklist'
      responses:
        '201':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/TokenBlacklist'
          description: ''
      tags:
      - api
  /api/users/users/change-password/:
    post:
      operationId: changePasswordUser
      description: ''
      parameters: []
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ChangePassword'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/ChangePassword'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/ChangePassword'
      responses:
        '201':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ChangePassword'
          description: ''
      tags:
      - api
  /api/users/users/{id}/link-resident/:
    post:
      operationId: linkResidentUser
      description: ''
      parameters:
      - name: id
        in: path
        required: true
        description: A unique integer value identifying this user.
        schema:
          type: string
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/LinkResident'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/LinkResident'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/LinkResident'
      responses:
        '201':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/LinkResident'
          description: ''
      tags:
      - api
  /api/auth/token/:
    post:
      operationId: createTokenObtainPair
      description: 'Takes a set of user credentials and returns an access and refresh
        JSON web

        token pair to prove the authentication of those credentials.'
      parameters: []
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/TokenObtainPair'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/TokenObtainPair'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/TokenObtainPair'
      responses:
        '201':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/TokenObtainPair'
          description: ''
      tags:
      - api
  /api/auth/token/refresh/:
    post:
      operationId: createTokenRefresh
      description: 'Takes a refresh type JSON web token and returns an access type
        JSON web

        token if the refresh token is valid.'
      parameters: []
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/TokenRefresh'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/TokenRefresh'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/TokenRefresh'
      responses:
        '201':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/TokenRefresh'
          description: ''
      tags:
      - api
components:
  schemas:
    User:
      type: object
      properties:
        id:
          type: integer
          readOnly: true
        username:
          type: string
          description: Required. 150 characters or fewer. Letters, digits and @/./+/-/_
            only.
          pattern: ^[\w.@+-]+\z
          maxLength: 150
        role:
          enum:
          - ADMIN
          - QUAN_LY
          - CU_DAN
          type: string
          readOnly: true
          description: "Ph\xE2n quy\u1EC1n ng\u01B0\u1EDDi d\xF9ng"
        cu_dan_id:
          type: integer
          readOnly: true
        is_active:
          type: boolean
          description: Designates whether this user should be treated as active. Unselect
            this instead of deleting accounts.
        date_joined:
          type: string
          format: date-time
          readOnly: true
      required:
      - username
    CuDan:
      type: object
      properties:
        ma_cu_dan:
          type: integer
          readOnly: true
        ho_ten:
          type: string
          maxLength: 100
        gioi_tinh:
          enum:
          - M
          - F
          type: string
        ngay_sinh:
          type: string
          format: date
        so_cccd:
          type: string
          maxLength: 20
        so_dien_thoai:
          type: string
          maxLength: 15
        la_chu_ho:
          type: boolean
        trang_thai_cu_tru:
          enum:
          - TT
          - TH
          - TV
          - OUT
          type: string
        can_ho_dang_o:
          type: integer
          nullable: true
      required:
      - ho_ten
      - gioi_tinh
      - ngay_sinh
      - so_cccd
      - so_dien_thoai
    CanHo:
      type: object
      properties:
        ma_can_ho:
          type: integer
          readOnly: true
        phong:
          type: string
          maxLength: 20
        tang:
          type: integer
          maximum: 9223372036854775807
          minimum: -9223372036854775808
          format: int64
        toa_nha:
          type: string
          maxLength: 50
        dien_tich:
          type: number
        trang_thai:
          enum:
          - E
          - S
          - H
          type: string
        chu_so_huu:
          type: string
          readOnly: true
          nullable: true
      required:
      - phong
      - tang
      - toa_nha
    BienDongDanCu:
      type: object
      properties:
        ma_bien_dong:
          type: integer
          readOnly: true
        loai_bien_dong:
          enum:
          - TH
          - TT
          - TV
          - OUT
          type: string
        ngay_thuc_hien:
          type: string
          format: date
        cu_dan:
          type: integer
        can_ho:
          type: integer
      required:
      - loai_bien_dong
      - cu_dan
      - can_ho
    MyTokenObtainPair:
      type: object
      properties:
        username:
          type: string
          writeOnly: true
        password:
          type: string
          writeOnly: true
      required:
      - username
      - password
    TokenRefresh:
      type: object
      properties:
        refresh:
          type: string
        access:
          type: string
          readOnly: true
      required:
      - refresh
    TokenBlacklist:
      type: object
      properties:
        refresh:
          type: string
          writeOnly: true
      required:
      - refresh
    CreateUser:
      type: object
      properties:
        id:
          type: integer
          readOnly: true
        username:
          type: string
          description: Required. 150 characters or fewer. Letters, digits and @/./+/-/_
            only.
          pattern: ^[\w.@+-]+\z
          maxLength: 150
        password:
          type: string
          writeOnly: true
        role:
          enum:
          - ADMIN
          - QUAN_LY
          - CU_DAN
          type: string
          description: "Ph\xE2n quy\u1EC1n ng\u01B0\u1EDDi d\xF9ng"
      required:
      - username
      - password
    ChangePassword:
      type: object
      properties:
        old_password:
          type: string
        new_password:
          type: string
      required:
      - old_password
      - new_password
    LinkResident:
      type: object
      properties:
        cu_dan_id:
          type: integer
      required:
      - cu_dan_id
    TokenObtainPair:
      type: object
      properties:
        username:
          type: string
          writeOnly: true
        password:
          type: string
          writeOnly: true
      required:
      - username
      - password
